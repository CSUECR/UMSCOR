@model MorSun.Model.LoginModel

@{
    ViewBag.Title = "登录";
}
<div id="divInfo" style="margin-top: 10px;">
</div>
<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
</hgroup>
@Html.Partial("_TableLogon")
<section id="loginForm">
<h2>使用本地帐户登录。</h2>

</section>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    @Styles.Render("~/Content/JQueryQtipCustom/css")
    @Scripts.Render("~/Content/JQueryQtipCustom/js")
<script src="~/Scripts/slides.min.jquery.js"></script>
<script type="text/javascript">
    //$(document).ready(function () {
    //    $('.field-validation-error').each(function () {
    //        var inputElem = '#' + $(this).attr('data-valmsg-for').replace('.', '_').replace('[', '_').replace(']', '_');
    //        $(this).css("display", "none");
    //        $(inputElem).filter(':not(.valid)').qtip({
    //            content: { text: $(this).text() },
    //            position: {
    //                //my: 'top left',
    //                //at: 'bottom right',
    //                my: 'left center',
    //                at: 'right center',
    //                viewport: $(window)
    //            },
    //            show: { ready: true },
    //            hide: false,
    //            style: {
    //                classes: 'qtip-red'
    //            }
    //        });
    //    });
    //});

    //$(document).ready(function () {
    //    $("#logonBtn").click(function () {
    //        var $logonForm = $("#logonForm");
    //        if ($logonForm.valid()) {
    //            $.ajax({
    //                url: $logonForm.attr("action"),
    //                data: $logonForm.serialize(),
    //                type: 'POST',
    //                success: function (data) {
    //                    //操作成功的提示信息并且跳转页面
    //                    if (data.ResultType == 0) {
    //                        $("#divInfo").qtip({
    //                            content: {
    //                                text: data.Message,
    //                                title: {
    //                                    button: true
    //                                }
    //                            }
    //                            , position: {
    //                                target: [$('body').width() / 2, 20],
    //                                my: 'center center',
    //                                at: 'center center'
    //                            }
    //                            , show: {
    //                                ready: true
    //                            }
    //                             , hide: false
    //                        });
    //                        setTimeout(function () { $("#divInfo").qtip('destroy'); window.location.href = data.AppendData; }, 2000);
    //                    }
    //                    else {
    //                        $("#divInfo").qtip({
    //                            content: {
    //                                text: data.Message,
    //                                title: {
    //                                    button: true
    //                                }
    //                            }
    //                            , position: {
    //                                target: [$('body').width() / 2, 20],
    //                                my: 'center center',
    //                                at: 'center center'
    //                            }
    //                            , style: {
    //                                classes: 'qtip-red'
    //                            }
    //                            , show: {
    //                                ready: true
    //                            }
    //                             , hide: false
    //                        });
    //                        console.log(data.AppendData);
    //                        $.each(data.AppendData, function (index, valOfElement) {
    //                            var inputElem = "#" + valOfElement.Key;
    //                            var errorText = valOfElement.ErrorMessages.join(',');
    //                            console.log(inputElem + ',' + errorText);
    //                            $(inputElem).qtip({
    //                                content: { text: errorText },
    //                                position: {
    //                                    my: 'left center',
    //                                    at: 'right center',
    //                                    viewport: $(window)
    //                                },
    //                                show: { ready: true },
    //                                hide: false,
    //                                style: {
    //                                    classes: 'qtip-red'
    //                                }
    //                            });
    //                        });
    //                    }
    //                },
    //                error: function (data) {
    //                    alert("登录失败，请联系管理员！");
    //                }
    //            });
    //        }
    //    });
    //});
</script>
}
